5需求规格说明文档



## 更新历史

| 更改人 | 变更日期  | 变更原因               | 版本号 |
| ------ | --------- | ---------------------- | ------ |
| 勇中坚 | 2020-2-19 | 初稿                   | V1.0.0 |
| 张雨奇 | 2020-2-19 | 修改格式，添加功能需求 | v1.0.1 |
|        |           |                        |        |

[TOC]



# 一、引言

## 1.1 目的

​		本文档是对代码依赖在线分析与可视化平台(以下简称OCEANIA)的需求规格说明，本文档将供用户方和系统开发团队使 用。 

## 1.2 范围

​		对于使用OCEANIA的开发者来说，该平台可以帮助开发人员理清当前项目的结构，便于后续的修改和扩展。对于使用OCEANIA来阅读他人代码的用户来说，该平台可以通过展示项目结构，分析紧密度等方式为用户提供可视化数据，提升代码的可理解性。

## 1.3 参考文献

​		需求工程:软件建模与分析，骆斌、丁二玉，高等教育出版社，2009-04-01，ISBN:9787040262957 

​		

# 二、总体描述

## 2.1 商品前景

### 2.1.1 应用背景

​		首先程序理解是在软件开发与维护、安全验证、功能审计与追踪任务的基础，而作为软件制品中系统运行状态的唯一真实代表、设计决策与实现细节的统一载体、安全风险的主要来源，想要理解程序就必须读懂代码。然而纯代码本身很难理解，完善的软件代码规模较大，难以系统性阅读，同时也存在需要大量记忆，认知负荷，交互欠缺等问题。着在越来越复杂的程序不断出现的情况下，缺乏足够文档支持的纯代码基本无法展开后续的维护与演化工作，开发者难以理解，程序难以处理。

### 2.1.2 业务机遇

​		开发人员可以使用OCEANIA平台阅读已有的代码，充分理解代码结构，通过将代码依赖关系构建为代码依赖图，并根据图的拓扑关系展开各种分析与计算，帮助理解程序。

### 2.1.3 业务需求

​		BR1. 该系统能够将代码依赖关系构建为代码依赖图，并依据图的拓扑关系 展开各类分析与计算。

​		BR2. 代码依赖图需要进行图形化展示，且绘制的图形需要实现可交互，用户可以在图形上进行标注。

## 2.2 假设和依赖

​		AS-1 用户分析的代码使用的语言为java

# 三、详细需求描述

## 3.1 对外接口需求

### 3.1.1 用户界面

### 3.1.2 软件接口

## 3.2 功能描述

### 3.2.1 建立依赖表

#### 3.2.1.1 特征描述

用户输入建表指令和要分析的程序路径，系统在内存中建立依赖表，并计算边的紧密度。

#### 3.2.1.2 刺激-响应序列

刺激：用户输入'init'+项目目录

响应：显示依赖表建立是否成功

#### 3.2.1.3 相关功能需求

| 需求名称        | 需求描述                   |
| --------------- | -------------------------- |
| Graph.Init      | 创建代码依赖的抽象数据结构 |
| Graph.Calculate | 计算每条边的紧密度         |


### 3.2.2 查看依赖图基本属性

#### 3.2.2.1 特征描述

函数依赖导入后，用户可以查看函数依赖图的基本属性，包括顶点、边、连通域的数量

#### 3.2.2.2 刺激/响应序列

刺激：用户查看顶点数量

响应：系统在控制台打印顶点数量

刺激：用户查看边数量

响应：系统在控制台打印边的数量

刺激：用户查看连通域数量

响应：系统在控制台打印连通域数量

#### 3.2.2.3 相关功能需求

| 编号                     | 用例描述               |
| ------------------------ | ---------------------- |
| BasicAttribute           | 系统输出图的基本属性   |
| BasicAttribute.edgeNum   | 系统输出图的边个数     |
| BasicAttribute.vertexNum | 系统输出图的顶点个数   |
| BasicAttribute.domainNum | 系统输出图的连通域个数 |



### 3.2.3 查看连通域数和其顶点数量

#### 3.2.3.1 特征描述

用户设置紧密度域值后，系统计算忽略小于域值的边之后的图的连通域，统计连通域的数量，并按照域顶点个数从高到低的顺序展示连通域和对应的顶点个数

#### 3.2.3.2 刺激/响应序列

刺激：用户设置紧密度域值

响应：系统判断紧密度域值是否非法（小于0），非法则提示重新输入，否则设置该域值

刺激：用户要求查看所有连通域

响应：系统按照顶点数量排序之后依次输出每个连通域的每条边

刺激：用户要求查看连通域顶点数

响应：系统按照顶点数量排序后输出每个连通域的顶点数量

#### 3.2.3.3 相关功能需求

| 编号                        | 用例描述                             |
| --------------------------- | ------------------------------------ |
| Domain                      | 系统允许用户查看连通域               |
| Domain.setClosenessMin      | 系统允许用户设置紧密度域值           |
| Domain.checkClosenessMin    | 系统需要判断紧密度域值是否合法       |
| Domain.checkDomains         | 系统需要输出所有的连通域             |
| Domain.checkDomainVertexNum | 系统需要按顺序输出每个连通域的顶点数 |



### 3.2.4 输出两点间路径

#### 3.2.4.1 特征描述

用户输入两个顶点对应的函数名，返回两点之间存在的路径个数与 边最少的路径，并在控制台展示路径中的所有顶点(包括函数名) 和边(包括方向和紧密度值) 

#### 3.2.4.2 刺激相应序列

刺激：用户输入'path'

响应：提示输入一个函数名

刺激：用户输入一个函数名

响应：显示所有可能满足条件的函数名及其编号，若无满足条件的函数则提示错误

刺激：用户输入第一个函数名对应的编号

响应：提示用户选择第二个函数名

刺激：用户输入第二个函数名对应的编号

响应：输出两点间存在的路径个数与边最少的路径，并在控制台展示路径中的所有顶点和边

#### 3.2.4.3 相关功能需求

| 需求名称           | 需求描述                   |
| ------------------ | -------------------------- |
| Path.GetNodeByPart | 根据部分函数名获取节点     |
| Path.GetNodeByAll  | 根据函数全名获取节点       |
| Path.OutPutPath    | 输出一条路径中所有顶点和边 |
| Path.GetMinPath    | 获取最短路径               |
## 3.3 非功能需求

### 3.3.1 安全性

### 3.3.2 可维护性

### 3.3.3 可靠性

### 3.3.4 易用性

### 3.3.5 业务规则

### 3.3.6 约束
​		IC1:系统要在主机上分布一个终端

​		IC2:系统采用java语言开发

​		IC3:系统开发应采用分层模型 

​		IC4:系统不使用数据库，数据存储于内存

## 3.4 数据需求

### 3.4.1数据定义

### 3.4.2默认数据

### 3.4.3 数据格式要求

## 3.5 其他需求